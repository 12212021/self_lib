### 堆

#### 定义
堆又被称为优先级队列，堆需要存入的词条是可以**相互比较**的，堆维护了一个**偏序**关系。能够在log的时间复杂度内完成插入和删除操作，能够在常数时间内完成getMax或者getMin操作。


#### 堆的特性和分类
大顶堆：堆的首部值为堆的最大值

小顶堆：堆的首部值为堆的最小值

特性
- 堆的结构性：必须满足完全二叉树
- 堆的堆序性：父节点的值大于（小于）子节点的值

高度：对于完全二叉树而言，堆的高度不超过log<sub>2</sub>(n)，n为堆内部节点数量


#### 基于向量的堆
将节点v的秩记做i(v)，对于堆（完全二叉树而言），有如下结论
- 若v存在左孩子，则i(lchild) = 2 * i(v) + 1;
- 若v存在右孩子，i(rchild) = 2 * i(v) + 2;
- 若v存在父节点，i(parent) = Math.floor((i(v) - 1)/2) or Math.ceil((i(v)/2) - 1;


元素插入：将元素添加到堆的队尾，由于堆其他部分**满足父子节点之间的偏序关系**，只需要对新加入的元素不断执行上滤操作，直至**该节点位于堆首**或者**该节点满足父子节点偏序关系即可**


元素删除：返回堆首元素，pop堆最后一个元素，将该元素置于堆首，针对堆首元素，不断执行下滤操作，**该节点满足父子节点偏序关系即可**（对于叶子节点元素，由于其没有子节点，故天然满足该偏序关系）


建堆算法：

前置结论：SUM(2<sup>n</sup>) = 2<sup>n + 1</sup> - 1，所以满二叉树的叶子结点占据整个二叉树一半以上，叶子节点天然满足偏序关系。

操作：只需要找到堆的最后一个内部节点（即最后一个节点的父节点），针对内部节点，不断执行下滤操作即可
